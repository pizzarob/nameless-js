!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("body-parser"));else if("function"==typeof define&&define.amd)define(["body-parser"],r);else{var t=r("object"==typeof exports?require("body-parser"):e["body-parser"]);for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}(this,function(e){return function(e){function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var t={};return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=2)}([function(e,r,t){"use strict";function n(){function e(e,r,n,o,u,c){try{return t[e][r](n,o,u,c)}catch(e){return Promise.reject(e)}}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return r.forEach(function(e){t[e.name]||(t[e.name]={}),Object.keys(e.services).forEach(function(r){t[e.name][r]=o(e.services[r])})}),{exec:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(e){return function(r,t,n,o){return new Promise(function(u,c){e(r,u,c,t,n,o)})}};r.default=n},function(e,r){e.exports=require("body-parser")},function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,r){var t=e.apiPrefix,n=void 0===t?"":t,o=e.services,u=void 0===o?[]:o,i=(0,f.default)(u);return r.post(n+"/:service",c.default.urlencoded({extended:!1}),c.default.json(),p(i)),global.nameless={exec:i.exec},{commander:i,apiPrefix:n}}Object.defineProperty(r,"__esModule",{value:!0}),r.createService=void 0;var u=t(1),c=n(u),i=t(0),f=n(i),s=function(e,r){return{name:e,services:r}},a=function(e){return function(r){return e.json(r)}},d=function(e){return function(r){return e.status(r.code||500).send(r.message||"")}},p=function(e){return function(r,t,n){e.exec(r.params.service,r.body.action,r.body.payload,r,t,n).then(a(t),d(t)).catch(d(t))}};r.default=o,r.createService=s}])});