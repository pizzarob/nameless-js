!function(e,r){if("object"==typeof exports&&"object"==typeof module)module.exports=r(require("body-parser"));else if("function"==typeof define&&define.amd)define(["body-parser"],r);else{var n=r("object"==typeof exports?require("body-parser"):e["body-parser"]);for(var t in n)("object"==typeof exports?exports:e)[t]=n[t]}}(this,function(e){return function(e){function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}var n={};return r.m=e,r.c=n,r.i=function(e){return e},r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:t})},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=2)}([function(e,r,n){"use strict";function t(){function e(e,r,t){try{return n[e][r](t)}catch(e){return Promise.reject(e)}}var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n={};return r.forEach(function(e){n[e.name]||(n[e.name]={}),Object.keys(e.services).forEach(function(r){n[e.name][r]=o(e.services[r])})}),{exec:e}}Object.defineProperty(r,"__esModule",{value:!0});var o=function(e){return function(r){return new Promise(function(n,t){e(r,n,t)})}};r.default=t},function(e,r){e.exports=require("body-parser")},function(e,r,n){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function o(e,r){var n=e.apiPrefix,t=void 0===n?"":n,o=e.services,u=void 0===o?[]:o,i=(0,f.default)(u);return r.post(t+"/:service",c.default.urlencoded({extended:!1}),c.default.json(),p(i)),global.nameless={exec:i.exec},{commander:i,apiPrefix:t}}Object.defineProperty(r,"__esModule",{value:!0}),r.createService=void 0;var u=n(1),c=t(u),i=n(0),f=t(i),a=function(e,r){return{name:e,services:r}},s=function(e){return function(r){return e.json(r)}},d=function(e){return function(r){return e(r)}},p=function(e){return function(r,n,t){e.exec(r.params.service,r.body.action,r.body.payload).then(s(n),d(t)).catch(d(t))}};r.default=o,r.createService=a}])});